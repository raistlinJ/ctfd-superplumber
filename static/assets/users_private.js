import{c as u,C as o,m as h}from"./index.js";import{g as c}from"./userscore.6c40dd81.js";import{e as d}from"./index.1cf73b05.js";import"./echarts.128204f2.js";const p=()=>window.Alpine||h,i=()=>({solves:null,fails:null,awards:null,solveCount:0,failCount:0,awardCount:0,getSolvePercentage(){const t=this.solveCount+this.failCount;return t?(this.solveCount/t*100).toFixed(2):0},getFailPercentage(){const t=this.solveCount+this.failCount;return t?(this.failCount/t*100).toFixed(2):0},getCategoryBreakdown(){var n,r;if(!((r=(n=this.solves)==null?void 0:n.data)!=null&&r.length))return[];const t=[],e={};this.solves.data.forEach(s=>{t.push(s.challenge.category)}),t.forEach(s=>{s in e?e[s]+=1:e[s]=1});const a=[];for(const s in e)a.push({name:s,count:e[s],color:u(s),percent:(e[s]/t.length*100).toFixed(2)});return a},async init(){this.solves=await o.pages.users.userSolves("me"),this.fails=await o.pages.users.userFails("me"),this.awards=await o.pages.users.userAwards("me"),this.solveCount=this.solves.meta.count,this.failCount=this.fails.meta.count,this.awardCount=this.awards.meta.count;const t=window.userScoreGraphChartOptions;d(this.$refs.scoregraph,c(o.user.id,o.user.name,this.solves.data,this.awards.data,t))}}),l=()=>{const t=p();!t||(t.data("UserGraphs",i),window.UserGraphs=i)};window.Alpine?l():document.addEventListener("alpine:init",l,{once:!0});
