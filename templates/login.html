{% extends "base.html" %}

{% block content %}
  <section class="container mario-hero mario-hero--compact">
    <div class="row align-items-center g-4">
      <div class="col-lg-7">
        <p class="mario-hero__badge">{% trans %}Player Select{% endtrans %}</p>
        <h1 class="mario-hero__title">{% trans %}Log In{% endtrans %}</h1>
        <p class="mario-hero__subtitle">
          {% trans %}Slide down the warp pipe, punch in your credentials, and hop back into the action.{% endtrans %}
        </p>
        <div class="d-flex flex-wrap gap-3 mt-4">
          <div class="mario-world-pill">{% trans %}1-UP Ready{% endtrans %}</div>
          <div class="mario-world-pill">{% trans %}Continue{% endtrans %}</div>
        </div>
      </div>
      <div class="col-lg-5 text-center">
        <div class="mario-hero__art" aria-hidden="true">
          <img class="mario-hero__asset mario-hero__asset--flag" src="{{ url_for('views.themes', theme=Configs.theme or 'core-beta', path='img/mario/flag.svg') }}" alt="">
          <img class="mario-hero__asset mario-hero__asset--pipe" src="{{ url_for('views.themes', theme=Configs.theme or 'core-beta', path='img/mario/pipe.svg') }}" alt="">
          <img class="mario-hero__asset mario-hero__asset--star" src="{{ url_for('views.themes', theme=Configs.theme or 'core-beta', path='img/mario/star.svg') }}" alt="">
        </div>
      </div>
    </div>
  </section>

  <div class="container mario-auth-shell">
    <div class="row g-5 align-items-center justify-content-center">
      <div class="col-lg-5 col-xl-4">
        <div class="mario-auth-card">
          <h2 class="mario-retro text-center mb-4">{% trans %}Player Login{% endtrans %}</h2>
          {% include "components/errors.html" %}

          {% if integrations.mlc() %}
            <a class="btn btn-secondary btn-lg w-100 mb-4" href="{{ url_for('auth.oauth_login') }}">
              {% trans %}Login with Major League Cyber{% endtrans %}
            </a>
          {% endif %}

          {% with form = Forms.auth.LoginForm() %}
            <form method="post" accept-charset="utf-8">
              <div class="mb-3">
                <b>{{ form.name.label(class="form-label") }}</b>
                {{ form.name(class="form-control", value=name, autocomplete="username email") }}
              </div>

              <div class="mb-3">
                <b>{{ form.password.label(class="form-label") }}</b>
                {{ form.password(class="form-control", value=password, autocomplete="current-password") }}
              </div>

              <div class="row pt-3 align-items-center gy-3">
                <div class="col-md-7">
                  <a class="align-middle" href="{{ url_for('auth.reset_password') }}">
                    {% trans %}Forgot your password?{% endtrans %}
                  </a>
                </div>

                <div class="col-md-5">
                  {{ form.submit(class="btn btn-primary w-100") }}
                </div>
              </div>

              {{ form.nonce() }}
            </form>
          {% endwith %}

          {% if registration_visible() %}
            <div class="mario-auth-cta mt-4">
              {% trans %}Need an account?{% endtrans %}
              <a href="{{ url_for('auth.register') }}">{% trans %}Register{% endtrans %}</a>
            </div>
          {% endif %}
        </div>
      </div>

      <div class="col-lg-5 col-xl-4">
        <div class="mario-auth-illustration" aria-hidden="true">
          <img class="mario-auth-illustration__sprite mario-auth-illustration__sprite--pipe" src="{{ url_for('views.themes', theme=Configs.theme or 'core-beta', path='img/mario/pipe.svg') }}" alt="">
          <img class="mario-auth-illustration__sprite mario-auth-illustration__sprite--star" src="{{ url_for('views.themes', theme=Configs.theme or 'core-beta', path='img/mario/star.svg') }}" alt="">
          <img class="mario-auth-illustration__sprite mario-auth-illustration__sprite--flower" src="{{ url_for('views.themes', theme=Configs.theme or 'core-beta', path='img/mario/fire-flower.svg') }}" alt="">
        </div>
      </div>
    </div>
  </div>
{% endblock %}
